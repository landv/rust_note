#一个简单的Rust Tcp 代理
https://github.com/ZekeMedley/tcp-proxy
### 基准测试
1.启动代理
`cargo run -- -c 0.0.0.0:1212 -s 127.0.0.1:1313`
2.在另一个窗口中监听源端口
`nc -l 1313 > /dev/null`
3.从另一个窗口发送一堆流量
`dd if=/dev/zero bs=1024 count=9000000 | nc -v 127.0.0.1 1212`
`管道符号‘|’ 命令1的正确输出作为命令2的操作对象`

#### linux dd命令的解释
dd: 用制定大小的块拷贝到一个文件，并在拷贝的同时进行指定的转换。
注意：指定数字的地方若以下列字符结尾，则乘以相应的数字：b=512;c=1;k=1024;w=2
参数注释：
1. if=文件名：输入文件名，缺省为标准输入。即指定源文件。< if=input file >
2. of=文件名：输出文件名，缺省为标准输出。即指定目的文件。< of=output file >
3. ibs=bytes：一次读入bytes个字节，即指定一个块大小为bytes个字节。
   obs=bytes：一次输出bytes个字节，即指定一个块大小为bytes个字节。
   bs=bytes：同时设置读入/输出的块大小为bytes个字节。
4. cbs=bytes：一次转换bytes个字节，即指定转换缓冲区大小。
5. skip=blocks：从输入文件开头跳过blocks个块后再开始复制。
6. seek=blocks：从输出文件开头跳过blocks个块后再开始复制。
注意：通常只用当输出文件是磁盘或磁带时才有效，即备份到磁盘或磁带时才有效。
7. count=blocks：仅拷贝blocks个块，块大小等于ibs指定的字节数。
8. conv=conversion：用指定的参数转换文件。
   ascii：转换ebcdic为ascii
   ebcdic：转换ascii为ebcdic
   ibm：转换ascii为alternate ebcdic
   block：把每一行转换为长度为cbs，不足部分用空格填充
   unblock：使每一行的长度都为cbs，不足部分用空格填充
   lcase：把大写字符转换为小写字符
   ucase：把小写字符转换为大写字符
   swab：交换输入的每对字节
   noerror：出错时不停止
   notrunc：不截短输出文件
   sync：将每个输入块填充到ibs个字节，不足部分用空（NUL）字符补齐。
*/dev/null和/dev/zero的区别*
dev/null，外号叫无底洞，你可以向它输出任何数据，它通吃，并且不会撑着！
/dev/zero，是一个输入设备，你可你用它来初始化文件。该设备无穷尽地提供0，可以使用任何你需要的数目——设备提供的要多的多。他可以用于向设备或文件写入字符串0。
/dev/null------它是空设备，也称为位桶（bit bucket）。任何写入它的输出都会被抛弃。如果不想让消息以标准输出显示或写入文件，那么可以将消息重定向到位桶。
   
#### linux nc 命令的解释
```txt
功能说明：功能强大的网络工具

语　　法：nc [-hlnruz][-g<网关...>][-G<指向器数目>][-i<延迟秒数>][-o<输出文件>][-p<通信端口>][-s<来源位址>][-v...][-w<超时秒数>][主机名称][通信端口...]

参　　数：
-g<网关>   设置路由器跃程通信网关，最多可设置8个。
-G<指向器数目>   设置来源路由指向器，其数值为4的倍数。
-h   在线帮助。
-i<延迟秒数>   设置时间间隔，以便传送信息及扫描通信端口。
-l   使用监听模式，管控传入的资料。
-n   直接使用IP地址，而不通过域名服务器。
-o<输出文件>   指定文件名称，把往来传输的数据以16进制字码倾倒成该文件保存。
-p<通信端口>   设置本地主机使用的通信端口。
-r   乱数指定本地与远端主机的通信端口。
-s<来源位址>   设置本地主机送出数据包的IP地址。
-u   使用UDP传输协议。
-v   显示指令执行过程。
-w<超时秒数>   设置等待连线的时间。
-z   使用0输入/输出模式，只在扫描通信端口时使用。
```
端口扫码
```txt
nc -v -w 2 192.168.1.34 -z 21-24     
```
传文件
```txt
nc -l 1234 > test.txt    #192.168.1.10
nc 192.168.2.34 < test.txt   #192.168.1.11
```
简单聊天工具
```txt
nc -l 1234          #192.168.1.10 开启端口
nc 192.168.2.34 1234    #192.168.1.11连接端口
```
建立从本地1234端口到host.example.com的80端口连接，5秒超时
```txt
nc -p 1234 -w 5 blog.51yip.com 80
```
u为UDP连接
```txt
nc -u 192.168.1.102 53
```
模拟HTTP Headers
```txt
nc blog.landv.cn 80
```